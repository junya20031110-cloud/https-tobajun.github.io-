<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tobajun Works – Gallery</title>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;600&family=Monoton&display=swap" rel="stylesheet" />

<!-- 背景パターン先読み（あれば同階層に flowers.webp を置く） -->
<link rel="preload" as="image" href="flowers.webp" imagesrcset="flowers.webp" />

<style>
:root{
  --text:#111; --muted:#555;
}

/* 背景（WebP優先＋PNGフォールバック） */
body{
  margin:0; color:var(--text);
  font-family:"Noto Sans JP", system-ui, sans-serif;
  line-height:1.85;
  background-image:image-set(
    url("flowers.webp") type("image/webp"),
    url("file_00000000d26061f88c63d30662386815.png") type("image/png")
  );
  background-repeat:repeat;
  background-size:360px;
  background-position:0 0;
}

/* セクション用カード（白ベール） */
.panel{
  background:rgba(255,255,255,.62);
  border:1px solid rgba(0,0,0,.06);
  border-radius:18px;
  padding:18px;
  margin:22px 16px;
  backdrop-filter:blur(2px);
  content-visibility:auto;
  contain-intrinsic-size:600px;
}

/* 見出し：サイケ（ピンク×水色） */
h1,h2,h3{
  font-family:"Monoton", cursive;
  letter-spacing:2px;
  color:#ff0080;                 /* ピンク */
  text-shadow:2px 2px 6px #00eaff; /* 水色ネオン影 */
  margin:0 0 .4em;
}

/* ヘッダー（白めで読みやすく） */
header{
  position:sticky; top:0; z-index:10;
  padding:14px 10px 18px; text-align:center;
  background:rgba(255,255,255,.78);
  backdrop-filter:saturate(140%) blur(6px);
  border-bottom:1px solid rgba(0,0,0,.08);
}
header h1{ font-size:clamp(28px,6vw,44px); margin:4px 0 6px; }
nav{display:flex; gap:18px; justify-content:center; flex-wrap:wrap}
nav a{
  color:#333; text-decoration:none; font-weight:600;
  padding:8px 12px; border-radius:999px; border:1px solid rgba(0,0,0,.12);
  background:#fff;
}
nav a:hover{ color:#000; border-color:rgba(0,0,0,.25) }

/* レイアウト */
main{max-width:1100px; margin:28px auto; padding:0 8px}
p{color:var(--muted)}

/* フィルタ */
.filters{display:flex; gap:10px; flex-wrap:wrap; margin:12px 0 16px}
.filter-btn{
  background:#fff; color:#333; border:1px solid rgba(0,0,0,.18);
  padding:8px 12px; border-radius:999px; font-weight:600
}
.filter-btn.active{
  color:#000; border-color:rgba(0,0,0,.35);
  box-shadow:0 0 0 2px rgba(0,0,0,.06) inset
}

/* ギャラリー */
.gallery{ display:grid; gap:14px; grid-template-columns:repeat(2,1fr); }
@media (min-width:700px){ .gallery{ grid-template-columns:repeat(3,1fr);} }
@media (min-width:980px){ .gallery{ grid-template-columns:repeat(4,1fr);} }

.tile{
  position:relative; overflow:hidden; border-radius:14px;
  background:#fff; border:1px solid rgba(0,0,0,.12);
  transition:transform .2s ease, box-shadow .2s ease;
}
.tile:hover{ transform:translateY(-4px); box-shadow:0 10px 28px rgba(0,0,0,.15) }
.tile a{ display:block; color:inherit; text-decoration:none }
.tile img{ width:100%; height:100%; object-fit:cover; aspect-ratio:1/1; display:block }
.tile .cap{
  position:absolute; left:0; right:0; bottom:0;
  padding:8px 10px; font-size:.9rem; color:#fff;
  background:linear-gradient(to top, rgba(0,0,0,.55), transparent);
}

/* モーダル */
.modal{ position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.75); backdrop-filter:blur(2px); z-index:50 }
.modal.open{ display:grid }
.modal img{ max-width:90vw; max-height:78vh; border-radius:12px; box-shadow:0 20px 60px rgba(0,0,0,.6) }
.modal .meta{ margin-top:10px; text-align:center; color:#ddd }
.close{ position:absolute; top:14px; right:14px; background:rgba(0,0,0,.5); color:#fff; border:none; border-radius:10px; padding:8px 10px; font-weight:700 }

/* フッター */
footer{
  margin:26px 16px; padding:16px; background:rgba(255,255,255,.6);
  color:#333; text-align:center; font-size:.95rem; border-radius:14px;
  border:1px solid rgba(0,0,0,.06);
}
</style>
</head>
<body>
<header>
  <h1>Tobajun Works</h1>
  <nav>
    <a href="#gallery">ギャラリー</a>
    <a href="#about">自己紹介</a>
    <a href="#contact">連絡先</a>
  </nav>
</header>

<main>
  <!-- 自己紹介 -->
  <section id="about" class="panel">
    <h2>自己紹介</h2>
    <p>AIでホームページが作れるなんて凄いですね。せっかくなので色々載せようと思います。</p>
  </section>

  <!-- ギャラリー -->
  <section id="gallery" class="panel">
    <h2>ギャラリー</h2>
    <div class="filters">
      <button class="filter-btn active" data-filter="all">すべて</button>
      <button class="filter-btn" data-filter="outdoor">アウトドア</button>
      <button class="filter-btn" data-filter="indoor">インドア</button>
    </div>

    <div class="gallery" id="grid">
      <!-- インドア -->
      <figure class="tile" data-tags="indoor">
        <a href="music.html">
          <img src="IMG_20250924_230253.jpg" alt="音楽" loading="lazy" decoding="async">
          <figcaption class="cap">音楽</figcaption>
        </a>
      </figure>
      <figure class="tile" data-tags="indoor">
        <img src="IMG_20250930_152127.jpg" alt="部屋改造" loading="lazy" decoding="async">
        <figcaption class="cap">部屋改造</figcaption>
      </figure>

      <!-- アウトドア -->
      <figure class="tile" data-tags="outdoor">
        <img src="IMG_20250910_141941.jpg" alt="天体観測" loading="lazy" decoding="async">
        <figcaption class="cap">天体観測</figcaption>
      </figure>
      <figure class="tile" data-tags="outdoor">
        <img src="https://images.unsplash.com/photo-1482192505345-5655af888cc4?q=80&w=1200&auto=format&fit=crop" alt="キャンプ" loading="lazy" decoding="async">
        <figcaption class="cap">キャンプ</figcaption>
      </figure>

      <!-- なんでも -->
      <figure class="tile" data-tags="all">
        <img src="IMG_20250930_171613.jpg" alt="行動録や購入品など" loading="lazy" decoding="async">
        <figcaption class="cap">行動録や購入品など</figcaption>
      </figure>
    </div>
  </section>

  <!-- 連絡先 -->
  <section id="contact" class="panel">
    <h2>連絡先</h2>
    <p>メール: <a href="https://mail.google.com/mail/?view=cm&fs=1&to=misatoshimin@gmail.com" target="_blank" rel="noopener">misatoshimin@gmail.com</a></p>
  </section>
</main>

<footer>© 2025 Tobajun Works</footer>

<!-- モーダル -->
<div class="modal" id="modal" aria-hidden="true">
  <button class="close" id="closeBtn">× 閉じる</button>
  <img id="modalImg" alt="">
  <div class="meta" id="modalCap"></div>
</div>

<script>
/* 画像クリック→モーダル（リンク付きタイルはそのまま遷移） */
const grid = document.getElementById('grid');
const modal = document.getElementById('modal');
const modalImg = document.getElementById('modalImg');
const modalCap = document.getElementById('modalCap');
const closeBtn = document.getElementById('closeBtn');

grid.addEventListener('click', e=>{
  if (e.target.closest('a')) return; // リンクは遷移
  const fig = e.target.closest('.tile'); if(!fig) return;
  const img = fig.querySelector('img');
  const cap = fig.querySelector('.cap')?.textContent || '';
  modalImg.src = img.src; modalImg.alt = img.alt || '';
  modalCap.textContent = cap;
  modal.classList.add('open'); modal.setAttribute('aria-hidden','false');
});
[closeBtn, modal].forEach(el=>{
  el.addEventListener('click', e=>{
    if(e.target===closeBtn || e.target===modal){
      modal.classList.remove('open'); modal.setAttribute('aria-hidden','true');
    }
  });
});
addEventListener('keydown', e=>{ if(e.key==='Escape') modal.classList.remove('open'); });

/* フィルタ */
const btns = document.querySelectorAll('.filter-btn');
btns.forEach(b=>b.addEventListener('click', ()=>{
  btns.forEach(x=>x.classList.remove('active'));
  b.classList.add('active');
  const f = b.dataset.filter;
  document.querySelectorAll('.tile').forEach(tile=>{
    const show = (f==='all') || tile.dataset.tags.includes(f);
    tile.style.display = show ? '' : 'none';
  });
}));
</script>
</body>
</html>
